'use strict';

var esc = function esc(param) {
  return encodeURIComponent(param).replace(/[!'()*]/g, escape).replace(/%20/g, '+');
};
var isNumeric = function isNumeric(n) {
  return !isNaN(parseFloat(n)) && isFinite(n);
};

var httpBuildQuery = function httpBuildQuery(queryData) {
  var numericPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var argSeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '&';
  var tempKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

  var query = Object.keys(queryData).map(function (k) {
    var res = void 0;
    var key = k;

    if (tempKey) {
      key = `${tempKey}[${key}]`;
    }

    if (typeof queryData[k] === 'object') {
      res = httpBuildQuery(queryData[k], null, argSeparator, key);
    } else {
      if (numericPrefix) {
        key = isNumeric(key) ? `${numericPrefix}${+key}` : key;
      }
      res = `${esc(key)}=${esc(queryData[k])}`;
    }

    return res;
  });

  return query.join(argSeparator).replace(/[!'()*]/g, '');
};

module.exports = httpBuildQuery;
//# sourceMappingURL=main.js.map